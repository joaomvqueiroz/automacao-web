Automatiza√ß√£o da Configura√ß√£o e Alojamento de Website em Servidor Linux (IP P√∫blico)

Data de Entrega e Defesa: 27 de novembro

Objetivo Geral

Desenvolver um conjunto de scripts de automatiza√ß√£o em Bash e Python que permitam instalar, configurar, otimizar e proteger automaticamente um servidor Linux (CentOS 10) destinado ao alojamento de um website acess√≠vel externamente atrav√©s de um IP p√∫blico fixo.

O projeto visa reduzir a interven√ß√£o manual e garantir reprodutibilidade, seguran√ßa e efici√™ncia em todo o processo de configura√ß√£o do servidor.

1. Arquitetura e Planeamento
Descri√ß√£o do Ambiente
Componente	Configura√ß√£o
Sistema Operativo	CentOS 10
Servidor Web	Apache HTTPD
Linguagem de Script	PHP 
Base de Dados	MariaDB 
Acesso Remoto	SSH (porta 22)
Website	Diret√≥rio: /var/www/html
Firewall	Firewalld configurado
Seguran√ßa	SELinux, Fail2ban, Mod_security
Rede	IP p√∫blico fixo configurado
Certificados SSL/TLS	Let‚Äôs Encrypt (opcional extra)
Ferramentas e Linguagens
Bash (automatiza√ß√£o principal)
Python (valida√ß√£o e monitoriza√ß√£o)
Apache HTTPD
PHP 
MariaDB
Firewalld
SELinux
Fail2ban
Mod_security
Let‚Äôs Encrypt

2. Scripts de Instala√ß√£o e Configura√ß√£o
Script 1 ‚Äî Instala√ß√£o dos Servi√ßos Principais
Fun√ß√µes automatizadas:
‚Ä¢	Instalar Apache, PHP e MariaDB.
‚Ä¢	Ativar e iniciar servi√ßos automaticamente.
‚Ä¢	Criar ficheiro de teste info.php em /var/www/html.
‚Ä¢	Verificar acessibilidade do website localmente e via IP p√∫blico.

Script 2 ‚Äî Configura√ß√£o Segura do MariaDB
Executa automaticamente:
‚Ä¢	mysql_secure_installation.
‚Ä¢	Defini√ß√£o de password root e remo√ß√£o de utilizadores an√≥nimos.
‚Ä¢	Desativa√ß√£o de login remoto e elimina√ß√£o de base de dados de teste.
‚Ä¢	Recarregamento autom√°tico de privil√©gios.

3. Acesso Externo e Rede
Script 3 ‚Äî Configura√ß√£o de Rede e Firewall
Verifica IP p√∫blico (curl ifconfig.me).
Configura IP fixo na interface (/etc/sysconfig/network-scripts).
Abre apenas as portas 22, 80 e 443 no firewalld.
Cria regra de redirecionamento no router via script auxiliar.
Testa conectividade com ping e curl.

4. Scripts de Seguran√ßa
Script 4 ‚Äî SELinux e Pol√≠ticas de Seguran√ßa
Confirma que SELinux est√° ativo em modo enforcing.
Gera relat√≥rios com sealert -a /var/log/audit/audit.log.
Cria log centralizado em /var/log/seguranca.log.

Script 5 ‚Äî Fail2ban
Instala e configura o Fail2ban para SSH e Apache.
Define bloqueio ap√≥s 3 tentativas falhadas.
Regista IPs bloqueados e envia alerta por email.

Script 6 ‚Äî Mod_security
Instala e ativa o m√≥dulo no Apache.
Carrega as regras OWASP CRS.
Testa prote√ß√£o contra ataques simulados (SQLi e XSS).

5. Scripts de Otimiza√ß√£o (Tuning)
Script 7 ‚Äî Tuning do Apache
Ativa mod_deflate e KeepAlive.
Configura SSL/TLS automaticamente com Let‚Äôs Encrypt.
Ajusta Timeouts e MaxClients conforme hardware.

Script 8 ‚Äî Tuning do MariaDB
Edita automaticamente o ficheiro /etc/my.cnf com:
innodb_buffer_pool_size = 60% da RAM
innodb_log_file_size = 256M
max_connections = 100
query_cache_size = 32M
Reinicia o servi√ßo e valida desempenho.

Script 9 ‚Äî Ajustes PHP
Aplica configura√ß√µes no /etc/php.ini:
‚Ä¢	date.timezone = Europe/Lisbon
‚Ä¢	upload_max_filesize = 20M
‚Ä¢	post_max_size = 25M
‚Ä¢	memory_limit = 256M

6. Scripts de Manuten√ß√£o e Backup
Script 10 ‚Äî Atualiza√ß√µes e Backup
Atualiza√ß√µes autom√°ticas (dnf update -y).
Backup di√°rio de:
/var/www/html
Bases de dados MariaDB
Compress√£o e envio para diret√≥rio /backups ou servidor remoto via SCP.

Script 11 ‚Äî Monitoriza√ß√£o
Gera relat√≥rios de logs (/var/log/httpd/, /var/log/secure).
Alerta autom√°tico por email em caso de falhas de seguran√ßa.
Sincroniza√ß√£o hor√°ria via NTP.

7. Roadmap de Implementa√ß√£o
Semana	Etapas Principais	Tarefas Detalhadas
1¬™ Semana	Cria√ß√£o e Teste dos Scripts Base	- Instalar e validar Apache, PHP, MariaDB via scripts
- Configurar rede e firewall automaticamente
- Criar script de acesso e logs iniciais
2¬™ Semana	Seguran√ßa, Tuning e Automa√ß√£o Total	- Executar scripts de seguran√ßa (SELinux, Fail2ban, Mod_security)
- Aplicar scripts de tuning e otimiza√ß√£o
- Automatizar backups e notifica√ß√µes
- Documentar resultados e testar acesso externo
8. Resultados Esperados
‚Ä¢	Servidor configurado automaticamente e funcional.
‚Ä¢	Website acess√≠vel via IP p√∫blico (HTTP/HTTPS).
‚Ä¢	Scripts execut√°veis para instala√ß√£o, seguran√ßa e tuning.
‚Ä¢	Base de dados e servidor protegidos.
‚Ä¢	Logs centralizados e alertas autom√°ticos ativos.
‚Ä¢	Configura√ß√£o totalmente reprodut√≠vel em novos sistemas.

9. Documenta√ß√£o Final
Deve incluir:
‚Ä¢	Todos os scripts desenvolvidos (.sh e .py).
‚Ä¢	Relat√≥rio t√©cnico com:
‚Ä¢	Etapas de execu√ß√£o e logs.
‚Ä¢	Resultados de testes.
‚Ä¢	Valida√ß√£o do acesso externo.
‚Ä¢	Capturas de ecr√£ de:
‚Ä¢	Execu√ß√£o dos scripts
‚Ä¢	Acesso externo ao website
‚Ä¢	Logs de seguran√ßa e bloqueios
‚Ä¢	Certificado SSL ativo
‚Ä¢	Checklist de seguran√ßa e tuning aplicada.
Envio:
üìß dario.quental.000606@edu.atec.pt
Apresenta√ß√£o e defesa: 27 de novembro
