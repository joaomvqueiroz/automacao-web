<<<<<<< HEAD
Projeto Alojamento de Website em Servidor Linux com Acesso Externo (IP Público)
Objetivo Geral
Instalar, configurar e otimizar um servidor Linux (CentOS 10) capaz de alojar um website acessível externamente através de um IP público, garantindo desempenho, estabilidade e segurança.

1. Arquitetura e Planeamento
Descrição do ambiente:
•	Servidor Linux principal: Apache + PHP + MariaDB
•	Acesso remoto: via SSH (porta 22)
•	Website: alojado em /var/www/html
•	Base de dados: MariaDB local
•	Firewall ativa e configurada com firewalld
•	IP público fixo configurado no router ou interface de rede
Ferramentas utilizadas:
•	Apache (HTTPD)
•	PHP 8+
•	MariaDB 10+
•	Firewalld
•	SELinux
•	Fail2ban
•	Mod_security
•	Let’s Encrypt (para SSL/TLS) ( Extra nota )

2. Instalação dos Serviços Principais
 Apache (Servidor Web)
•	Instalar o Apache (httpd)
•	Ativar e iniciar o serviço
•	Verificar acesso via navegador (http://<ip_publico>)
 PHP
•	Instalar PHP e módulos necessários (php, php-mysql, php-cli)
•	Testar com um ficheiro info.php em /var/www/html
 MariaDB (Base de Dados)
•	Instalar MariaDB
•	Ativar e iniciar o serviço
•	Aceder à consola (mysql -u root -p)

 3. Configuração Segura do MariaDB
•	Definir password do root
•	Remover utilizadores anónimos
•	Desativar login remoto do root
•	Remover base de dados de teste
•	Recarregar privilégios

 4. Acesso Externo ao Website
•	Verificar IP público com ip addr ou curl ifconfig.me
•	Configurar redirecionamento de portas 80 (HTTP) e 443 (HTTPS) no router
•	Garantir que o domínio (se existir) aponta para o IP público

5. Segurança do Servidor
 Firewall (firewalld)
•	Abrir portas 22 (SSH), 80 (HTTP) e 443 (HTTPS)
•	Bloquear todas as restantes
 SELinux
•	Manter ativo em modo enforcing
•	Monitorizar logs com ausearch e sealert
 Fail2ban
•	Instalar e configurar para proteger o SSH e Apache
•	Bloquear IPs após 3 tentativas falhadas
 Mod_security
•	Instalar no Apache
•	Ativar regras OWASP Core Rule Set (proteção contra SQLi, XSS, etc.)

 6. Ajustes de Desempenho (Tuning)
 Apache
•	Ativar mod_deflate → compressão de conteúdos
•	Ativar KeepAlive → reduzir tempo de conexão
•	Configurar SSL/TLS (Let’s Encrypt)
•	Otimizar Timeouts e MaxClients
 MariaDB
No ficheiro my.cnf, ajustar:
•	innodb_buffer_pool_size = 60% da RAM
•	innodb_log_file_size = 256M
•	max_connections = 100
•	query_cache_size = 32M
 PHP
Editar php.ini:
•	date.timezone = Europe/Lisbon
•	upload_max_filesize = 20M
•	post_max_size = 25M
•	memory_limit = 256M

 7. Segurança e Manutenção
•	Atualizações automáticas (dnf update -y)
•	Backups diários da base de dados e diretórios web
•	Sincronização horária via NTP
•	Monitorização de logs: /var/log/httpd/ e /var/log/secure

 8. Roadmap de Implementação (2 Semanas)
Semana	Etapas Principais	Tarefas Detalhadas
1ª Semana	Planeamento e Instalação	- Definir arquitetura e IP público
- Instalar Apache, PHP, MariaDB
- Configurar firewall e SELinux
- Criar diretórios e permissões
2ª Semana	Segurança, Tuning e Validação	- Executar mysql_secure_installation
- Configurar fail2ban e mod_security
- Aplicar ajustes de desempenho
- Testar acesso externo (HTTP/HTTPS)
- Documentar configurações e resultados

 9. Resultados Esperados
Website acessível externamente via IP público
Base de dados segura e otimizada
Firewall e SELinux ativos
Proteções automáticas contra ataques
Desempenho melhorado e consumo reduzido
Sistema documentado e validado em ambiente real

 10. Documentação Final
A entrega deve incluir:
•	Relatório técnico completo
•	Capturas de ecrã dos testes (acesso externo, logs, fail2ban, SSL ativo)
•	Ficheiros de configuração principais (httpd.conf, php.ini, my.cnf)
•	Checklist de segurança validada
•	Envio por e-mail para o endereço dario.quental.000606@edu.atec.pt e demonstração prática em aula/Online na data 10/11.


=======
Projeto Alojamento de Website em Servidor Linux com Acesso Externo (IP Público)
Objetivo Geral
Instalar, configurar e otimizar um servidor Linux (CentOS 10) capaz de alojar um website acessível externamente através de um IP público, garantindo desempenho, estabilidade e segurança.

1. Arquitetura e Planeamento
Descrição do ambiente:
•	Servidor Linux principal: Apache + PHP + MariaDB
•	Acesso remoto: via SSH (porta 22)
•	Website: alojado em /var/www/html
•	Base de dados: MariaDB local
•	Firewall ativa e configurada com firewalld
•	IP público fixo configurado no router ou interface de rede
Ferramentas utilizadas:
•	Apache (HTTPD)
•	PHP 8+
•	MariaDB 10+
•	Firewalld
•	SELinux
•	Fail2ban
•	Mod_security
•	Let’s Encrypt (para SSL/TLS) ( Extra nota )

2. Instalação dos Serviços Principais
 Apache (Servidor Web)
•	Instalar o Apache (httpd)
•	Ativar e iniciar o serviço
•	Verificar acesso via navegador (http://<ip_publico>)
 PHP
•	Instalar PHP e módulos necessários (php, php-mysql, php-cli)
•	Testar com um ficheiro info.php em /var/www/html
 MariaDB (Base de Dados)
•	Instalar MariaDB
•	Ativar e iniciar o serviço
•	Aceder à consola (mysql -u root -p)

 3. Configuração Segura do MariaDB
•	Definir password do root
•	Remover utilizadores anónimos
•	Desativar login remoto do root
•	Remover base de dados de teste
•	Recarregar privilégios

 4. Acesso Externo ao Website
•	Verificar IP público com ip addr ou curl ifconfig.me
•	Configurar redirecionamento de portas 80 (HTTP) e 443 (HTTPS) no router
•	Garantir que o domínio (se existir) aponta para o IP público

5. Segurança do Servidor
 Firewall (firewalld)
•	Abrir portas 22 (SSH), 80 (HTTP) e 443 (HTTPS)
•	Bloquear todas as restantes
 SELinux
•	Manter ativo em modo enforcing
•	Monitorizar logs com ausearch e sealert
 Fail2ban
•	Instalar e configurar para proteger o SSH e Apache
•	Bloquear IPs após 3 tentativas falhadas
 Mod_security
•	Instalar no Apache
•	Ativar regras OWASP Core Rule Set (proteção contra SQLi, XSS, etc.)

 6. Ajustes de Desempenho (Tuning)
 Apache
•	Ativar mod_deflate → compressão de conteúdos
•	Ativar KeepAlive → reduzir tempo de conexão
•	Configurar SSL/TLS (Let’s Encrypt)
•	Otimizar Timeouts e MaxClients
 MariaDB
No ficheiro my.cnf, ajustar:
•	innodb_buffer_pool_size = 60% da RAM
•	innodb_log_file_size = 256M
•	max_connections = 100
•	query_cache_size = 32M
 PHP
Editar php.ini:
•	date.timezone = Europe/Lisbon
•	upload_max_filesize = 20M
•	post_max_size = 25M
•	memory_limit = 256M

 7. Segurança e Manutenção
•	Atualizações automáticas (dnf update -y)
•	Backups diários da base de dados e diretórios web
•	Sincronização horária via NTP
•	Monitorização de logs: /var/log/httpd/ e /var/log/secure

 8. Roadmap de Implementação (2 Semanas)
Semana	Etapas Principais	Tarefas Detalhadas
1ª Semana	Planeamento e Instalação	- Definir arquitetura e IP público
- Instalar Apache, PHP, MariaDB
- Configurar firewall e SELinux
- Criar diretórios e permissões
2ª Semana	Segurança, Tuning e Validação	- Executar mysql_secure_installation
- Configurar fail2ban e mod_security
- Aplicar ajustes de desempenho
- Testar acesso externo (HTTP/HTTPS)
- Documentar configurações e resultados

 9. Resultados Esperados
Website acessível externamente via IP público
Base de dados segura e otimizada
Firewall e SELinux ativos
Proteções automáticas contra ataques
Desempenho melhorado e consumo reduzido
Sistema documentado e validado em ambiente real

 10. Documentação Final
A entrega deve incluir:
•	Relatório técnico completo
•	Capturas de ecrã dos testes (acesso externo, logs, fail2ban, SSL ativo)
•	Ficheiros de configuração principais (httpd.conf, php.ini, my.cnf)
•	Checklist de segurança validada
•	Envio por e-mail para o endereço dario.quental.000606@edu.atec.pt e demonstração prática em aula/Online na data 10/11.


>>>>>>> ac9db240c610747d0e33584f8b4f43388382d08b
